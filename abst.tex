\documentclass[10.5pt, a4paper]{jsarticle}
%--------------図を挿入するための設定等々-----------
\usepackage{amsmath, amssymb}
\usepackage{bm}
\usepackage[dvipdfmx]{graphicx}
\usepackage{ascmac}
\usepackage{fancybox}
\usepackage{float}
\usepackage{url}

\usepackage{comment}

%--------------文章の縦横の位置調整-----------
\usepackage[top=15truemm, bottom=15truemm, left=15truemm, right=15truemm]{geometry}
%\setlength{\textheight}{46\baselineskip}
%\addtolength{\textheight}{\topskip}
%\setlength{\voffset}{-70pt}

%% ここまで設定 %%
\begin{document}

\twocolumn[
    \begin{center}
	    {\LARGE 3DCGモデリングにおける同期編集システムの研究 }\vspace{3mm}\\
	    {知能情報工学科 乃万研究室 13231071　古城戸　隆志\hspace{3mm}\\
                   2016 年  9月  1日 (木)}
    \end{center}
    \vspace{7mm}
]

\pagestyle{empty} % ページ番号をつけない.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%　表や図の名前を与える \caption 命令はコロンが入ってしまう．
%　以下の命令でコロンが入らないようにする．
\makeatletter
\long\def\@makecaption#1#2{%
\vskip\abovecaptionskip%
\sbox\@tempboxa{#1\hspace{1zw}#2}
\ifdim \wd\@tempboxa >\hsize%

#1 #2\par
\else
\global \@minipagefalse
\hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
\fi
\vskip\belowcaptionskip}
\makeatother

\makeatletter
\def\section{\@startsection {section}{1}{\z@}{0ex plus 0ex minus 0ex}{0ex plus 0ex}{\Large\bf}}
\makeatother

\makeatletter
\def\subsection{\@startsection {subsection}{1}{\z@}{0ex plus 0ex minus 0ex}{0ex plus 0ex}{\normalsize\bf}}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\noindent


%% 本文 %%
\section{背景}
近年, IT業界やクリエイティブ業界で, プログラミングやコンテンツ制作をする際, 複数人によるチーム開発が盛んである.
GitやSlack等の伝達用ツールを用いることで, チーム内でデータの共有や知識の共有をある程度円滑に済ますことができるが,
互いに異なるファイルを操作し, 作業の途中経過を伝達やマージするときに手間が生じる.
そこで, Google DocumentやWord Onlineに代表されるテキストデータの同期システムを使用することにより, 手間がかかる問題を解決できる.
しかし, 3Dモデリングによる頂点などの3次元データを双方向で同期する際, 頂点の移動や削除をする時の操作の矛盾が起こる可能性がある.

\section{目的}
本研究では, 同期編集における矛盾回避処理を実装することで, 複数人で頂点データを共有し同期編集可能なモデリングソフトを開発する.
これにより, 即時にユーザ同士の知識の共有ができ, モデリング作業の効率化を図ることを目的とする.
\section{システム}
本システムは, 頂点編集できるモデリングアプリケーションとサーバプログラムによって構成する. 複数のクライアントがサーバを介して頂点データを同期して共有できる.
また, 複数クライアントでの編集結果の矛盾回避に頂点編集の差分データを用いる. 差分データを用いてクライアント間でデータをリアルタイムに同期するためには, (1)データの送信, (2)差分データの管理, (3)データの受信, という３つの手順が必要である.

\subsection{データの送信}
ユーザは従来のモデリングソフトと同様に頂点を編集し, 3Dモデルを作成する.
システムのクライアントは, ユーザが選択した頂点と, その頂点の更新後の状態と, クライアント識別子をサーバに送信する.
また, 新規のクライアントはクライアント識別子を送信し, サーバに接続要求をする.

\subsection{差分データの管理}
システムのサーバは, クライアントから送信された頂点編集のデータを差分データとしてデータベースに登録する.
また, 一定時間ごとにすべての差分データを処理し, スナップショットを作成する.
スナップショットは, クライアントにおいての3Dデータフォーマットと統一し, すべての3Dオブジェクトの頂点データや位置データで構成する。
差分データは, オブジェクトの頂点編集に関するデータとクライアント識別子で構成し, 新規のクライアントを検出した場合とスナップショットの作成時に削除する.

\subsection{データの受信}

システムのクライアントは短い一定時間ごとにサーバへポーリングすることでデータの受信要求をする. システムのサーバは, クライアントからポーリングが行われた際, 最新のスナップショットとそれ以降の差分データをクライアントに送信する. クライアントは, クライアントに保存されている3Dオブジェクトの頂点データや位置データを送られてきたスナップショットのデータに置き換える. その後, 送られてきた差分データのうち, クライアント識別子が異なるデータを古い方から順に適用していく.


\section{進捗と今後の方針}
現在, WebGLのライブラリであるThree.jsを用いて, 基本的なカメラの制御とモデルのビューワーを実装した. また, 簡易的な頂点編集をクライアント側のみ実装した.
今後はサーバ側の処理部分と差分データを保存しておくデータベースを実装していく.

%%　参考文献　%%

\begin{thebibliography}{9}
\bibitem{sketch}
加藤裕樹ら，“スケッチインターフェースを備えた非写実的頭髪モデリング, ”Visual Computing グラフィクスとCAD 合同シンポジウム2003予稿集，2003.

%\bibitem{SAHC}
%L.  Luo,  H.  Li and S.  Rusinkiewicz,  “Structure-aware hair capture, ” \textit{ACM Transactions on Graphics},  Vol.  32,  No.  76,  2013.
\begin{comment}
\bibitem{L-system1}
A. Lindenmayer,  “Mathematical Models for Cellular Interactions in Development,  I: Filaments with One-sided Inputs, ” J.  Theoretical Biology Vol.  18,  pp.  280-299 1968．
\bibitem{L-system2}
A. Lindenmayer,  “Mathematical Models for Cellular Interactions in Development,  II: Simple and Branching Filaments with Two-sided Inputs, ” J.  Theoretical Biology Vol.  18,  pp.  300-315 1968．
\bibitem{city}
CityEngine，
\url{http://www. esri. com/software/cityengine}，Esri．
\end{comment}

\begin{comment}
\bibitem{hikari}
光ナビゲーションキーボード，
\url{http://casio. jp/emi/products/key_lighting/}，CASIO.
\bibitem{kenban}
中村靖，池田陽子，開いた瞬間！すぐ弾ける「大人のピアノ」，廣済堂出版，2003．
\bibitem{projection}
Real Rock Band: Play piano like a pro with light keys，
\url{http://www. newscientist. com/article/dn24296#. Uns6B3B7J8G}．
\end{comment}
\end{thebibliography}

\end{document}
