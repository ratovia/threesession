\documentclass[10.5pt,a4paper]{jsarticle}
%--------------図を挿入するための設定等々-----------
\usepackage{amsmath,amssymb}
\usepackage{bm}
\usepackage[dvipdfmx]{graphicx}
\usepackage{ascmac}
\usepackage{fancybox}
\usepackage{float}
\usepackage{url}

\usepackage{comment}

%--------------文章の縦横の位置調整-----------
\usepackage[top=15truemm,bottom=15truemm,left=15truemm,right=15truemm]{geometry}
%\setlength{\textheight}{46\baselineskip}
%\addtolength{\textheight}{\topskip}
%\setlength{\voffset}{-70pt}

%% ここまで設定 %%
\begin{document}

\twocolumn[
    \begin{center}
    	    {pluto 中間発表}\vspace{3mm}\\
	    {\LARGE 3DCGモデリングにおける同期編集システムの研究 }\vspace{3mm}\\
	    {知能情報工学科 乃万研究室 13231071　古城戸　隆志\hspace{3mm}\\
                   2016 年  12月  4日 (木)}
    \end{center}
    \vspace{7mm}
]

\pagestyle{empty} % ページ番号をつけない.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%　表や図の名前を与える \caption 命令はコロンが入ってしまう．
%　以下の命令でコロンが入らないようにする．
\makeatletter
\long\def\@makecaption#1#2{%
\vskip\abovecaptionskip%
\sbox\@tempboxa{#1\hspace{1zw}#2}
\ifdim \wd\@tempboxa >\hsize%

#1 #2\par
\else
\global \@minipagefalse
\hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
\fi
\vskip\belowcaptionskip}
\makeatother

\makeatletter
\def\section{\@startsection {section}{1}{\z@}{0ex plus 0ex minus 0ex}{0ex plus 0ex}{\Large\bf}}
\makeatother

\makeatletter
\def\subsection{\@startsection {subsection}{1}{\z@}{0ex plus 0ex minus 0ex}{0ex plus 0ex}{\normalsize\bf}}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\noindent


%% 本文 %%
\section{背景}
近年,IT業界やクリエイティブ業界で,プログラミングやコンテンツ制作をする際,複数人によるチーム開発が盛んである.
GitやSlack等の伝達用ツールを用いることで,チーム内でデータの共有や知識の共有をある程度円滑に済ますことができる方法があるが,お互いに別のファイルを操作し,作業の途中経過を伝達やマージするときに手間が生じる
そこで,Google DocumentやWord Onlineに代表されるテキストデータを同期するシステムを使用することにより,この問題を解決できる.
しかしながら,3Dモデリングによる頂点などの3次元データを双方向で同期しようとする際,頂点の移動や削除をする時の操作の衝突が起こる可能性があることが問題点としてあげられる.
同期編集システムとして衝突はアプリケーションの動作パフォーマンスに直接関係し,ユーザーの作業の効率化に影響するので重要な問題要素である.

\section{目的}
本研究では,同期編集においての衝突回避処理を実装することで,複数人で頂点データを共有し同時編集可能なモデリングソフトを開発する.
これにより,ユーザー同士の知識の共有が可能になり,モデリング作業においての効率を向上させることを目的にしている.

\section{システム}
本システムは,ブラウザ上で頂点編集が可能なモデリングアプリケーションとサーバープログラムで構成され,複数のクライアントがサーバーを介して頂点データを同期して共有できる.
複数クライアントでの一貫性保証の手法として差分更新による編集結果の矛盾回避を行う.差分情報を用いてクライアント間でデータをリアルタイムに同期するためには,(1)ユーザーの入力をデータにし,送信する,(2)差分データを管理する,(3)差分データを適用する,の手順がある.

\subsection{データの送信}
ユーザーは従来のモデリングソフトと同様に頂点を編集し,作品を作成する.
システムのクライアントは操作を行った頂点とその更新後の状態とクライアントidをJson形式で送信する.
また,新規のクライアントはクライアントidを送信し,サーバーに参加の要求をする.

\subsection{差分データを管理する}
システムのサーバーは,ユーザーから入力された操作を差分データとしてデータベースに登録,一定時間ごとに差分データをまとめたスナップショットの作成と差分データの削除をする.
また,クライアントからポーリングが行われた際,スナップショットとそれ以降の差分データから現在のスナップショットを作成し送信する.また新規のクライアントを検出した場合もスナップショットの作成と差分データの削除をする.

\subsection{差分データの適用}
システムのクライアントは短い一定時間ごとにサーバーへ頂点データをポーリングする.クライアントは送られてきたデータから自分と同じクライアントidを除外し,それ以外のデータをThree.jsのAPIを用いて適用し画面に描画する.


\section{進捗と今後の方針}
現在,WebGLのライブラリであるThree.jsを用いて,基本的なカメラの制御とモデルのビューワーを実装した.また,簡易的な頂点編集をクライアント側のみ実装した.
今後はサーバー側の処理部分とデータベースの処理を実装していく.

%%　参考文献　%%

\begin{thebibliography}{9}
\bibitem{sketch}
加藤裕樹ら，“スケッチインターフェースを備えた非写実的頭髪モデリング,”Visual Computing グラフィクスとCAD 合同シンポジウム2003予稿集，2003.

%\bibitem{SAHC}
%L. Luo, H. Li and S. Rusinkiewicz, “Structure-aware hair capture,” \textit{ACM Transactions on Graphics}, Vol. 32, No. 76, 2013.
\begin{comment}
\bibitem{L-system1}
A.Lindenmayer, “Mathematical Models for Cellular Interactions in Development, I: Filaments with One-sided Inputs,” J. Theoretical Biology Vol. 18, pp. 280-299 1968．
\bibitem{L-system2}
A.Lindenmayer, “Mathematical Models for Cellular Interactions in Development, II: Simple and Branching Filaments with Two-sided Inputs,” J. Theoretical Biology Vol. 18, pp. 300-315 1968．
\bibitem{city}
CityEngine，
\url{http://www.esri.com/software/cityengine}，Esri．
\end{comment}

\begin{comment}
\bibitem{hikari}
光ナビゲーションキーボード，
\url{http://casio.jp/emi/products/key_lighting/}，CASIO.
\bibitem{kenban}
中村靖，池田陽子，開いた瞬間！すぐ弾ける「大人のピアノ」，廣済堂出版，2003．
\bibitem{projection}
Real Rock Band: Play piano like a pro with light keys，
\url{http://www.newscientist.com/article/dn24296#.Uns6B3B7J8G}．
\end{comment}
\end{thebibliography}

\end{document}
