\documentclass[10.5pt, a4paper]{jsarticle}
%--------------図を挿入するための設定等々-----------
\usepackage{amsmath, amssymb}
\usepackage{bm}
\usepackage[dvipdfmx]{graphicx}
\usepackage{ascmac}
\usepackage{fancybox}
\usepackage{float}
\usepackage{url}

\usepackage{comment}

%--------------文章の縦横の位置調整-----------
\usepackage[top=15truemm, bottom=15truemm, left=15truemm, right=15truemm]{geometry}
%\setlength{\textheight}{46\baselineskip}
%\addtolength{\textheight}{\topskip}
%\setlength{\voffset}{-70pt}

%% ここまで設定 %%
\begin{document}

\twocolumn[
    \begin{center}
	    {\LARGE 3DCGモデリングにおける同期編集システムの研究 }\vspace{3mm}\\
	    {知能情報工学科 乃万研究室 13231071　古城戸　隆志\hspace{3mm}\\
                   2016 年  9月  1日 (木)}
    \end{center}
    \vspace{7mm}
]

\pagestyle{empty} % ページ番号をつけない.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%　表や図の名前を与える \caption 命令はコロンが入ってしまう．
%　以下の命令でコロンが入らないようにする．
\makeatletter
\long\def\@makecaption#1#2{%
\vskip\abovecaptionskip%
\sbox\@tempboxa{#1\hspace{1zw}#2}
\ifdim \wd\@tempboxa >\hsize%

#1 #2\par
\else
\global \@minipagefalse
\hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
\fi
\vskip\belowcaptionskip}
\makeatother

\makeatletter
\def\section{\@startsection {section}{1}{\z@}{0ex plus 0ex minus 0ex}{0ex plus 0ex}{\Large\bf}}
\makeatother

\makeatletter
\def\subsection{\@startsection {subsection}{1}{\z@}{0ex plus 0ex minus 0ex}{0ex plus 0ex}{\normalsize\bf}}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\noindent


%% 本文 %%
\section{背景}
近年, Google DocumentやMicrosoft Word Onlineに代表される同期編集システムがある.
同期編集に関する研究は多数行われており, Webページをブラウザから直接編集するシステムWFEの研究がある\cite{WFE}.
WFEでは複数クライアントで, 変更結果をリアルタイムに表示しながら, Webページの同期編集を可能としている.
WFEは, あるクライアントが送信したデータが全クライアントに同期されるまでの同期誤差が発生する.
同期誤差が大きくなるにつれて複数クライアント間の編集が衝突して編集内容が喪失してしまう問題がある.
この同期誤差を短縮するためにWFE-Sによる差分同期の方法がある\cite{WFE-S}.
しかし, 3Dモデリングの頂点操作における3次元データは, 単純なテキストデータより複雑なため, 同期時の編集の衝突や同期誤差の発生が起こる可能性がある.

\section{目的}
本研究では, 複数人で頂点データを共有し同期編集可能な3Dモデリングソフトを開発する.
3次元データを同期する時の, 編集の衝突や同期誤差の発生について明らかにする.
これにより, 3Dモデルを作成する際, 即時にユーザ同士の知識の共有ができ, モデリング作業の効率化を図ることを目的とする.

\section{システム}
本システムは, 頂点編集できるモデリングアプリケーションとサーバプログラムによって構成する. 複数のクライアントがサーバを介して頂点データを同期して共有できる.
また, 複数クライアントでの編集結果の衝突回避に頂点編集の差分データを用いる. 差分データを用いてクライアント間でデータをリアルタイムに同期するためには, (1)データの送信, (2)差分データの管理, (3)データの受信, という３つの手順が必要である.

\subsection{データの送信}
ユーザは従来のモデリングソフトと同様に頂点編集し, 3Dモデルを作成する.
システムのクライアントは, ユーザが選択した頂点や, 操作内容や, クライアント識別子といった頂点編集のデータをサーバに送信する.
また, 新規のクライアントはクライアント識別子をサーバに送信し接続要求をする.

\subsection{差分データの管理}
システムのサーバは, クライアントから送信された頂点編集のデータを, 差分データとしてデータベースに登録する.
また, 新規のクライアントを検出した時と一定時間ごとに, すべての差分データを処理しスナップショットを作成する.
スナップショットは, クライアントで実装する3Dオブジェクトの内部表現とフォーマットを統一し, すべての3Dオブジェクトの頂点データや位置データで構成する.
差分データは, 3Dオブジェクトの頂点編集に関するデータとクライアント識別子で構成し, スナップショットの作成時に削除する.

\subsection{データの受信}
システムのクライアントは, 短い一定時間ごとにサーバへポーリングすることでデータの受信要求をする.
システムのサーバは, クライアントからポーリングが行われた際, 最新のスナップショットとそれ以降の差分データをクライアントに送信する.
クライアントは, クライアントに保存されている3Dオブジェクトの頂点データや位置データを, 送られてきたスナップショットのデータに置き換える. その後, 送られてきた差分データのうち, クライアント識別子が異なるデータを, 古い方から順に適用していく.

\section{進捗と今後の方針}
現在, WebGLのライブラリであるThree.jsを用いて, 基本的なカメラの制御とモデルのビューワーを実装した.
また, 簡易的な頂点編集をクライアント側のみ実装した.
今後はサーバ側の処理部分と差分データを保存しておくデータベースを実装していく.

%%　参考文献　%%

\begin{thebibliography}{9}
\bibitem{WFE}
田代慎治ら, "WFEに置ける協調的なWebページの編集について", 第67回情報処理学会全国大会論文集, 2005.
\bibitem{WFE-S}
合田拓史ら, "既存Webページ同期編集システムWFE-Sにおける差分同期機構の試作", 第11回情報科学技術フォーラム, 2012.
\end{thebibliography}

\end{document}
